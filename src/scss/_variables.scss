//**********************************************************
// Variables
//----------------------------------------------------------
//
//**********************************************************
@use "sass:math";
@use "sass:meta";
@use "sass:list";

// Prefix
$prefix:                    "" !default;

// Root
$root_cell_width:           20px !default; // Respond 1rem
$cell_width:                1rem !default;
$font_size:                 16px !default;

// Grid
$grid_column:               12 !default;
$grid_width:                1200px !default;
$grid_gap:                  40px !default;

// Layout
$layout_width_min:          360px !default;

// Z-index
$zindex_dropdown:           1000 !default;
$zindex_sticky:             1100 !default;
$zindex_fixed:              1200 !default;
$zindex_offcanvas_backdrop: 1300 !default;
$zindex_offcanvas:          1400 !default;
$zindex_modal_backdrop:     1500 !default;
$zindex_modal:              1600 !default;
$zindex_popover:            1700 !default;
$zindex_tooltip:            1800 !default;
$zindex_toast:              1900 !default;
$zindex_debug:              2000 !default;

// Under The Hood
//----------------------------------------------------------
//
//**********************************************************

// Root
$px:                        math.div($cell_width, StripUnit($root_cell_width));
$font_size:                 PxToRem($font_size);

// Grid
//$grid_width:                PxToRem($grid_width);
$grid_col_width:            math.div($grid_width, $grid_column);
$is_grid_gap:               if($grid_gap > 0, true, false);

//$layout_gap: 0;
$gap: $grid_gap;

@if not $is_grid_gap {
    $gap: $root_cell_width * 2;
}

//$grid_gap:                  PxToRem($gap);
$grid_gap_half:             math.div($gap, 2);
$grid_cell_width:           math.div($grid_width - ($grid_column - 1) * $grid_gap, $grid_column);

// Layout
$layout_width:              $grid_width + $grid_gap * 2;
$layout_rate:               math.div(100, $layout_width);
$layout_gap_adaptive:       $layout_rate * $grid_gap;

//$grid_gap:                  PxToRem($grid_gap);
//$grid_gap_half:             math.div($grid_gap, 2);
//$grid_col_width:            math.div($grid_width, $grid_column);
//$grid_cell_width:           math.div($grid_width - ($grid_column - 1) * $grid_gap, $grid_column);
//
//// Layout
//$layout_width:              $grid_width + $grid_gap * 2;
//$layout_rate:               math.div(100, $layout_width);
//$layout_gap_adaptive:       $layout_rate * $grid_gap;

// Breakpoints
$list_breakpoints:          GetListBreakpoints();
$list_breakpoints_buffer:   [];

// Commons
$list_sides:                top, bottom, left, right;
$list_cursors:              default, pointer, help, not-allowed;
$list_displays:             none, block, inline-block, table, flex, grid, inline-grid, list-item;
$list_positions:            static, relative, absolute, fixed, sticky;

// Fonts
$font_family_serif:         [] !default;
$font_family_sans_serif:    [] !default;
$font_family_monospace:     [] !default;
// TODO:
// - проверить есть ли добавляемый шрифт
// - если не первый в списке удалить и добавить в начало
$font_family_serif:         list.join($font_family_serif, ("Lucida Bright", "Lucida Fax", Palatino, "Palatino Linotype", Palladio, "URW Palladio", Times, "Times New Roman", Georgia, serif), "comma");
$font_family_sans_serif:    list.join($font_family_sans_serif, (Roboto, -apple-system, BlinkMacSystemFont, "Segoe UI", Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Verdana, Arial, Helvetica, sans-serif), "comma");
$font_family_monospace:     list.join($font_family_monospace, (SFMono-Regular, source-code-pro, Menlo, Monaco, Consolas, "Courier New", "Lucida Console", Courier, monospace), "comma");

:root {
    --sh:                     #{GetMinShrinkCellWidth($grid_column - 1)};
    --px:                     #{$px};
    --bp:                     #{$list_breakpoints};

    // Fonts
    --font-family-serif:      #{meta.inspect($font_family_serif)};
    --font-family-sans-serif: #{meta.inspect($font_family_sans_serif)};
    --font-family-monospace:  #{meta.inspect($font_family_monospace)};
}